/**
 * name: @fireworks-js/solid
 * version: 2.10.1
 * author: Vitalij Ryndin (https://crashmax.ru)
 * homepage: https://fireworks.js.org
 * license MIT
 */
"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("solid-js"),$=require("fireworks-js"),T=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],P=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...T]),O=new Set(["innerHTML","textContent","innerText","children"]),j=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),A=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),M=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),k={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function B(i,t,e){let n=e.length,o=t.length,l=n,f=0,s=0,r=t[o-1].nextSibling,c=null;for(;f<o||s<l;){if(t[f]===e[s]){f++,s++;continue}for(;t[o-1]===e[l-1];)o--,l--;if(o===f){const a=l<n?s?e[s-1].nextSibling:e[l-s]:r;for(;s<l;)i.insertBefore(e[s++],a)}else if(l===s)for(;f<o;)(!c||!c.has(t[f]))&&t[f].remove(),f++;else if(t[f]===e[l-1]&&e[s]===t[o-1]){const a=t[--o].nextSibling;i.insertBefore(e[s++],t[f++].nextSibling),i.insertBefore(e[--l],a),t[o]=e[l]}else{if(!c){c=new Map;let u=s;for(;u<l;)c.set(e[u],u++)}const a=c.get(t[f]);if(a!=null)if(s<a&&a<l){let u=f,g=1,w;for(;++u<o&&u<l&&!((w=c.get(t[u]))==null||w!==a+g);)g++;if(g>a-s){const S=t[f];for(;s<a;)i.insertBefore(e[s++],S)}else i.replaceChild(e[s++],t[f++])}else f++;else t[f++].remove()}}}const C="_$DX_DELEGATE";function _(i,t,e){const n=document.createElement("template");n.innerHTML=i;let o=n.content.firstChild;return e&&(o=o.firstChild),o}function q(i,t=window.document){const e=t[C]||(t[C]=new Set);for(let n=0,o=i.length;n<o;n++){const l=i[n];e.has(l)||(e.add(l),t.addEventListener(l,G))}}function b(i,t,e){e==null?i.removeAttribute(t):i.setAttribute(t,e)}function D(i,t,e,n){n==null?i.removeAttributeNS(t,e):i.setAttributeNS(t,e,n)}function F(i,t){t==null?i.removeAttribute("class"):i.className=t}function R(i,t,e,n){if(n)Array.isArray(e)?(i[`$$${t}`]=e[0],i[`$$${t}Data`]=e[1]):i[`$$${t}`]=e;else if(Array.isArray(e)){const o=e[0];i.addEventListener(t,e[0]=l=>o.call(i,e[1],l))}else i.addEventListener(t,e)}function H(i,t,e={}){const n=Object.keys(t||{}),o=Object.keys(e);let l,f;for(l=0,f=o.length;l<f;l++){const s=o[l];!s||s==="undefined"||t[s]||(E(i,s,!1),delete e[s])}for(l=0,f=n.length;l<f;l++){const s=n[l],r=!!t[s];!s||s==="undefined"||e[s]===r||!r||(E(i,s,!0),e[s]=r)}return e}function I(i,t,e){if(!t)return e?b(i,"style"):t;const n=i.style;if(typeof t=="string")return n.cssText=t;typeof e=="string"&&(n.cssText=e=void 0),e||(e={}),t||(t={});let o,l;for(l in e)t[l]==null&&n.removeProperty(l),delete e[l];for(l in t)o=t[l],o!==e[l]&&(n.setProperty(l,o),e[l]=o);return e}function K(i,t={},e,n){const o={};return n||d.createRenderEffect(()=>o.children=y(i,t.children,o.children)),d.createRenderEffect(()=>t.ref&&t.ref(i)),d.createRenderEffect(()=>X(i,t,e,!0,o,!0)),o}function V(i,t,e){return d.untrack(()=>i(t,e))}function J(i,t,e,n){if(e!==void 0&&!n&&(n=[]),typeof t!="function")return y(i,t,n,e);d.createRenderEffect(o=>y(i,t(),o,e),n)}function X(i,t,e,n,o={},l=!1){t||(t={});for(const f in o)if(!(f in t)){if(f==="children")continue;o[f]=x(i,f,null,o[f],e,l)}for(const f in t){if(f==="children"){n||y(i,t.children);continue}const s=t[f];o[f]=x(i,f,s,o[f],e,l)}}function U(i){return i.toLowerCase().replace(/-([a-z])/g,(t,e)=>e.toUpperCase())}function E(i,t,e){const n=t.trim().split(/\s+/);for(let o=0,l=n.length;o<l;o++)i.classList.toggle(n[o],e)}function x(i,t,e,n,o,l){let f,s,r;if(t==="style")return I(i,e,n);if(t==="classList")return H(i,e,n);if(e===n)return n;if(t==="ref")l||e(i);else if(t.slice(0,3)==="on:"){const c=t.slice(3);n&&i.removeEventListener(c,n),e&&i.addEventListener(c,e)}else if(t.slice(0,10)==="oncapture:"){const c=t.slice(10);n&&i.removeEventListener(c,n,!0),e&&i.addEventListener(c,e,!0)}else if(t.slice(0,2)==="on"){const c=t.slice(2).toLowerCase(),a=M.has(c);if(!a&&n){const u=Array.isArray(n)?n[0]:n;i.removeEventListener(c,u)}(a||e)&&(R(i,c,e,a),a&&q([c]))}else if((r=O.has(t))||!o&&(A[t]||(s=P.has(t)))||(f=i.nodeName.includes("-")))t==="class"||t==="className"?F(i,e):f&&!s&&!r?i[U(t)]=e:i[A[t]||t]=e;else{const c=o&&t.indexOf(":")>-1&&k[t.split(":")[0]];c?D(i,c,t,e):b(i,j[t]||t,e)}return e}function G(i){const t=`$$${i.type}`;let e=i.composedPath&&i.composedPath()[0]||i.target;for(i.target!==e&&Object.defineProperty(i,"target",{configurable:!0,value:e}),Object.defineProperty(i,"currentTarget",{configurable:!0,get(){return e||document}}),d.sharedConfig.registry&&!d.sharedConfig.done&&(d.sharedConfig.done=!0,document.querySelectorAll("[id^=pl-]").forEach(n=>n.remove()));e!==null;){const n=e[t];if(n&&!e.disabled){const o=e[`${t}Data`];if(o!==void 0?n.call(e,o,i):n.call(e,i),i.cancelBubble)return}e=e.host&&e.host!==e&&e.host instanceof Node?e.host:e.parentNode}}function y(i,t,e,n,o){for(d.sharedConfig.context&&!e&&(e=[...i.childNodes]);typeof e=="function";)e=e();if(t===e)return e;const l=typeof t,f=n!==void 0;if(i=f&&e[0]&&e[0].parentNode||i,l==="string"||l==="number"){if(d.sharedConfig.context)return e;if(l==="number"&&(t=t.toString()),f){let s=e[0];s&&s.nodeType===3?s.data=t:s=document.createTextNode(t),e=h(i,e,n,s)}else e!==""&&typeof e=="string"?e=i.firstChild.data=t:e=i.textContent=t}else if(t==null||l==="boolean"){if(d.sharedConfig.context)return e;e=h(i,e,n)}else{if(l==="function")return d.createRenderEffect(()=>{let s=t();for(;typeof s=="function";)s=s();e=y(i,s,e,n)}),()=>e;if(Array.isArray(t)){const s=[],r=e&&Array.isArray(e);if(m(s,t,e,o))return d.createRenderEffect(()=>e=y(i,s,e,n,!0)),()=>e;if(d.sharedConfig.context){if(!s.length)return e;for(let c=0;c<s.length;c++)if(s[c].parentNode)return e=s}if(s.length===0){if(e=h(i,e,n),f)return e}else r?e.length===0?N(i,s,n):B(i,e,s):(e&&h(i),N(i,s));e=s}else if(t instanceof Node){if(d.sharedConfig.context&&t.parentNode)return e=f?[t]:t;if(Array.isArray(e)){if(f)return e=h(i,e,n,t);h(i,e,null,t)}else e==null||e===""||!i.firstChild?i.appendChild(t):i.replaceChild(t,i.firstChild);e=t}}return e}function m(i,t,e,n){let o=!1;for(let l=0,f=t.length;l<f;l++){let s=t[l],r=e&&e[l];if(s instanceof Node)i.push(s);else if(!(s==null||s===!0||s===!1))if(Array.isArray(s))o=m(i,s,r)||o;else if(typeof s=="function")if(n){for(;typeof s=="function";)s=s();o=m(i,Array.isArray(s)?s:[s],Array.isArray(r)?r:[r])||o}else i.push(s),o=!0;else{const c=String(s);r&&r.nodeType===3&&r.data===c?i.push(r):i.push(document.createTextNode(c))}}return o}function N(i,t,e=null){for(let n=0,o=t.length;n<o;n++)i.insertBefore(t[n],e)}function h(i,t,e,n){if(e===void 0)return i.textContent="";const o=n||document.createTextNode("");if(t.length){let l=!1;for(let f=t.length-1;f>=0;f--){const s=t[f];if(o!==s){const r=s.parentNode===i;!l&&!f?r?i.replaceChild(o,s):i.insertBefore(o,e):r&&s.remove()}else l=!0}}else i.insertBefore(o,e);return[o]}const Q=_("<div></div>"),L=i=>{const{autostart:t,options:e,children:n,ref:o,...l}=d.mergeProps({autostart:!0},i);let f,s;return d.onMount(()=>{s=new $.Fireworks(f,e),t&&s.start(),o&&o(s),d.onCleanup(()=>{s.stop()})}),(()=>{const r=Q.cloneNode(!0),c=f;return typeof c=="function"?V(c,r):f=r,K(r,l,!1,!0),J(r,n),r})()};exports.Fireworks=L;exports.default=L;
